version: '3.8'

services:
  prometheus:
    ports:
      - "9092:9090"

  grafana:
    ports:
      - "3002:3000"

  web:
    environment:
      - DATABASE_URL=postgresql+asyncpg://rentscout:rentscout_password@postgres:5432/rentscout

  celery-worker:
    environment:
      - DATABASE_URL=postgresql+asyncpg://rentscout:rentscout_password@postgres:5432/rentscout

  celery-beat:
    environment:
      - DATABASE_URL=postgresql+asyncpg://rentscout:rentscout_password@postgres:5432/rentscout
