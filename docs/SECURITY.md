# üîê –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ RentScout

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

```bash
python scripts/generate_secrets.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- ‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–µ –ø–∞—Ä–æ–ª–∏ (32 —Å–∏–º–≤–æ–ª–∞)
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç `.env` —Ñ–∞–π–ª —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã

### –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤—Ä—É—á–Ω—É—é:

```python
import secrets

# –ü–∞—Ä–æ–ª—å (32 —Å–∏–º–≤–æ–ª–∞)
password = ''.join(secrets.choice(string.ascii_letters + string.digits + "!@#$%^&*()-_=+") 
                   for _ in range(32))

# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (64 —Å–∏–º–≤–æ–ª–∞ –≤ hex)
secret_key = secrets.token_hex(32)
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞—Ä–æ–ª—è–º

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ |
|----------|------------|
| **–î–ª–∏–Ω–∞** | –ú–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 32+) |
| **–ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (A-Z) |
| **–°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (a-z) |
| **–¶–∏—Ñ—Ä—ã** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (0-9) |
| **–°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (!@#$%^&*()-_=+) |

### –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏

‚ùå –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- `password`, `postgres`, `admin`, `root`
- `redis_password`, `your_password`
- `changeme`, `secret`
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: `12345678`, `abcdefgh`
- –ü–æ–≤—Ç–æ—Ä—ã: `aaaaaaaa`, `11111111`

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```env
# ‚ùå –ü–õ–û–•–û (—Å–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å)
DATABASE_URL=postgresql://rentscout:password@localhost:5432/rentscout

# ‚úÖ –•–û–†–û–®–û (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å)
DATABASE_URL=postgresql://rentscout:Xk9#mP2$vL5nQ8wR@localhost:5432/rentscout
```

### 2. Redis

```env
# ‚ùå –ü–õ–û–•–û
REDIS_PASSWORD=redis_password

# ‚úÖ –•–û–†–û–®–û
REDIS_PASSWORD=Tn7&jF4@hK9pL2mQ
```

### 3. –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏

```env
# ‚ùå –ü–õ–û–•–û (–∫–æ—Ä–æ—Ç–∫–∏–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π)
SECRET_KEY=changeme

# ‚úÖ –•–û–†–û–®–û (64 —Å–∏–º–≤–æ–ª–∞)
SECRET_KEY=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6
```

## Production —á–µ–∫–ª–∏—Å—Ç

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] `DEBUG=false` –≤ production
- [ ] `SECRET_KEY` –∏ `JWT_SECRET` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ü–∞—Ä–æ–ª–∏ –Ω–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ git (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `.gitignore`)
- [ ] HTTPS –≤–∫–ª—é—á—ë–Ω (—á–µ—Ä–µ–∑ reverse proxy –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- [ ] Rate limiting –≤–∫–ª—é—á—ë–Ω

### Docker/Container security

```yaml
# docker-compose.yml
services:
  web:
    environment:
      # ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö–∞—Ä–¥–∫–æ–¥ –ø–∞—Ä–æ–ª–µ–π –≤ docker-compose
      - POSTGRES_PASSWORD=mysecretpassword
      
      # ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ secrets –∏–ª–∏ env_file
      env_file:
        - .env.production
```

### Environment variables –≤ production

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ secrets manager:

```bash
# Docker Swarm
docker secret create db_password db_password.txt

# Kubernetes
kubectl create secret generic db-credentials --from-literal=password=securepassword

# HashiCorp Vault
vault kv put secret/rentscout/database password=securepassword
```

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### JWT Tokens

RentScout –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

```python
from app.core.security import create_access_token, verify_token

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
token = create_access_token(
    data={"sub": user_id, "role": "admin"},
    expires_delta=timedelta(hours=24)
)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
payload = verify_token(token)
if payload:
    user_id = payload.get("sub")
```

### –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–æ–≤

| –¢–∏–ø —Ç–æ–∫–µ–Ω–∞ | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ |
|------------|-------------|
| Access Token | 24 —á–∞—Å–∞ |
| Refresh Token | 7 –¥–Ω–µ–π |

### Best Practices

1. **–•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ** (httpOnly cookies, secure storage)
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–æ–≤
3. **–û—Ç–∑—ã–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω—ã** –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–†–æ—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã** —Ä–µ–≥—É–ª—è—Ä–Ω–æ (–∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π)

## Rate Limiting

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```env
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=100
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS

–î–ª—è production —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:
- Cloudflare –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π CDN
- Nginx rate limiting
- API Gateway (Kong, Traefik)

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ß—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å

‚úÖ **–ú–æ–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:**
- IP –∞–¥—Ä–µ—Å–∞ (–¥–ª—è rate limiting)
- User ID (–±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
- –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

‚ùå **–ù–µ–ª—å–∑—è –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:**
- –ü–∞—Ä–æ–ª–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã
- JWT —Ç–æ–∫–µ–Ω—ã
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- API –∫–ª—é—á–∏

### Security alerts

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –¥–ª—è:
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ failed login –ø–æ–ø—ã—Ç–∫–∏
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ rate limit
- –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–æ–¥–∏–Ω IP, –º–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤)
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

### –ü–ª–∞–Ω–æ–≤–∞—è —Ä–æ—Ç–∞—Ü–∏—è (–∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π)

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:
   ```bash
   python scripts/generate_secrets.py
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ `.env`:
   ```bash
   cp .env .env.backup
   # –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ .env
   ```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
   ```bash
   docker-compose restart
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è (–ø—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏)

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ** —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ —Å–µ–∫—Ä–µ—Ç—ã
2. –û–±–Ω–æ–≤–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. –û—Ç–æ–∑–æ–≤–∏—Ç–µ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
5. –£–≤–µ–¥–æ–º–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã –∏—Ö –¥–∞–Ω–Ω—ã–µ)

## Security Headers

–î–ª—è production –¥–æ–±–∞–≤—å—Ç–µ headers:

```python
# app/main.py
@app.middleware("http")
async def add_security_headers(request: Request, call_next):
    response = await call_next(request)
    response.headers["X-Content-Type-Options"] = "nosniff"
    response.headers["X-Frame-Options"] = "DENY"
    response.headers["X-XSS-Protection"] = "1; mode=block"
    response.headers["Strict-Transport-Security"] = "max-age=31536000"
    return response
```

## –£—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å

### –ï—Å–ª–∏ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å

1. **–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π issue**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –æ—Ç—á—ë—Ç –Ω–∞ security@rentscout.dev
3. –£–∫–∞–∂–∏—Ç–µ:
   - –¢–∏–ø —É—è–∑–≤–∏–º–æ—Å—Ç–∏
   - –®–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### Response Time

- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏: 24 —á–∞—Å–∞
- –í—ã—Å–æ–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏: 72 —á–∞—Å–∞
- –°—Ä–µ–¥–Ω–∏–µ/–Ω–∏–∑–∫–∏–µ: 1 –Ω–µ–¥–µ–ª—è

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [FastAPI Security](https://fastapi.tiangolo.com/tutorial/security/)
- [Docker Security Best Practices](https://docs.docker.com/engine/security/)
- [Python Security Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Python_Security_Cheat_Sheet.html)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-21  
**–í–µ—Ä—Å–∏—è:** 1.0.0
