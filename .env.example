# =============================================================================
# RentScout Environment Configuration
# =============================================================================
# ⚠️  ВАЖНО: Этот файл содержит пример конфигурации.
# 
# Для генерации безопасных паролей выполните:
#   python scripts/generate_secrets.py
#
# Это создаст .env файл с криптографически стойкими паролями.
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME="RentScout"
DEBUG=false
TESTING=false
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Security Settings - КРИТИЧЕСКИ ВАЖНО!
# -----------------------------------------------------------------------------
# ⚠️  Никогда не используйте дефолтные значения в production!
# Для генерации безопасных ключей:
#   SECRET_KEY: минимум 32 символа (буквы, цифры, спецсимволы)
#   JWT_SECRET: минимум 32 символа (буквы, цифры, спецсимволы)
#
# Используйте скрипт генерации: python scripts/generate_secrets.py
# -----------------------------------------------------------------------------
SECRET_KEY=<GENERATE_WITH_SCRIPT_MIN_32_CHARS>
JWT_SECRET=<GENERATE_WITH_SCRIPT_MIN_32_CHARS>

# -----------------------------------------------------------------------------
# Database Settings
# -----------------------------------------------------------------------------
# ⚠️  Пароль должен быть не менее 16 символов и содержать:
#    - Заглавные и строчные буквы
#    - Цифры
#    - Специальные символы (!@#$%^&*)
#
# Формат: postgresql://USER:PASSWORD@HOST:PORT/DB
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://rentscout:<GENERATE_SECURE_PASSWORD>@localhost:5432/rentscout
POSTGRES_USER=rentscout
POSTGRES_PASSWORD=<GENERATE_SECURE_PASSWORD_MIN_16_CHARS>
POSTGRES_DB=rentscout

# -----------------------------------------------------------------------------
# Redis Settings
# -----------------------------------------------------------------------------
# ⚠️  Пароль должен быть не менее 16 символов
#
# Формат: redis://:PASSWORD@HOST:PORT/DB_NUMBER
# -----------------------------------------------------------------------------
REDIS_URL=redis://:<GENERATE_SECURE_PASSWORD>@localhost:6379/0
REDIS_PASSWORD=<GENERATE_SECURE_PASSWORD_MIN_16_CHARS>
REDIS_MAX_CONNECTIONS=50

# -----------------------------------------------------------------------------
# Celery Settings
# -----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://:<REDIS_PASSWORD>@localhost:6379/1
CELERY_RESULT_BACKEND=redis://:<REDIS_PASSWORD>@localhost:6379/2
CELERY_TASK_ALWAYS_EAGER=false

# -----------------------------------------------------------------------------
# Cache Settings
# -----------------------------------------------------------------------------
CACHE_TTL=3600
CACHE_ENABLED=true

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=100

# -----------------------------------------------------------------------------
# API Keys (для парсеров, если требуется)
# -----------------------------------------------------------------------------
# Получите API ключи на соответствующих платформах:
# - Avito: https://www.avito.ru/developers
# - Cian: https://www.cian.ru/developers
# - Yandex: https://yandex.ru/dev
# -----------------------------------------------------------------------------
AVITO_API_KEY=
CIAN_API_KEY=
YANDEX_TRAVEL_TOKEN=

# -----------------------------------------------------------------------------
# CORS Settings
# -----------------------------------------------------------------------------
# Укажите разрешённые origin для production
# Формат: http://domain1.com,http://domain2.com
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
PROMETHEUS_ENABLED=true
METRICS_ENDPOINT=/metrics

# Elasticsearch (опционально, для расширенного поиска)
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX=rentscout

# Sentry (опционально, для production monitoring)
SENTRY_DSN=

# -----------------------------------------------------------------------------
# External Services
# -----------------------------------------------------------------------------
PROXY_URL=
USER_AGENT="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
HOT_RELOAD=true
AUTO_MIGRATE=false

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# -----------------------------------------------------------------------------
# Performance Settings
# -----------------------------------------------------------------------------
WORKERS=4
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# -----------------------------------------------------------------------------
# Connection Pool Settings
# -----------------------------------------------------------------------------
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
HTTP_MAX_CONNECTIONS=100

# -----------------------------------------------------------------------------
# Parser Settings
# -----------------------------------------------------------------------------
PROXY_ENABLED=false
PROXY_FILE=proxies.txt
USE_RANDOM_HEADERS=true
MIN_REQUEST_DELAY=2.0
MAX_REQUEST_DELAY=5.0
CIAN_MAX_RETRIES=3
AVITO_RATE_LIMIT=5
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# Timeout Settings (в секундах)
# -----------------------------------------------------------------------------
REQUEST_TIMEOUT=30
PARSER_TIMEOUT=60
SEARCH_TIMEOUT=120

# -----------------------------------------------------------------------------
# Retry Settings
# -----------------------------------------------------------------------------
MAX_RETRIES=3
RETRY_DELAY=1.0

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_AVITO_PARSER=true
ENABLE_CIAN_PARSER=true
ENABLE_DOMCLICK_PARSER=true
ENABLE_DOMOFOND_PARSER=true
ENABLE_YANDEX_REALTY_PARSER=true
ENABLE_ADVANCED_CACHE=true
ENABLE_CIRCUIT_BREAKER=true
ENABLE_DISTRIBUTED_TRACING=false

# -----------------------------------------------------------------------------
# HTTPS/SSL Settings (для production)
# -----------------------------------------------------------------------------
# Включите для использования HTTPS в production
# -----------------------------------------------------------------------------
HTTPS_ENABLED=false
SSL_CERT_FILE=
SSL_KEY_FILE=

# -----------------------------------------------------------------------------
# Notification Settings
# -----------------------------------------------------------------------------
# Для системы оповещений (email, Telegram, webhooks)
# -----------------------------------------------------------------------------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# -----------------------------------------------------------------------------
# ML Settings
# -----------------------------------------------------------------------------
ML_MODEL_PATH=models/
ML_CACHE_TTL=3600
ML_PREDICTION_ENABLED=true
